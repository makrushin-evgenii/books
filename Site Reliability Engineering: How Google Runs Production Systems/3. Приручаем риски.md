# Приручаем риски
## Управление рисками
Стоимость системы при повышении надежности растёт нелинейно. Состоит из стоимости избыточных (резервных) ресурсов и упущенных возможностей.
Целевой уровень доступности рассматривается не только как минимум, но и максимум.

## Измерение рисков, связанных с сервисом
Формула `доступность = время безотказной работы / время работы` популярнее.  Формула `доступность = успешные запросы / все запросы` лучше подходит при локализациии изоляции неисправностей, когда сервис всегда как минимум "частично доступен". Можно адаптировать и к системам, не работающим постоянно, например пакетной обработке: доля успешно обработанных записей.

## Рискоустойчивость сервисов
Для определения рискоустойчивости сервиса нужно преобразовать набор бизнес-идей в четкие требования, которые можно реализовать.
### Определение рискоустойчивости пользовательских сервисов
- **Какого уровня доступности нужно достичь?** Зависит от: ожидания пользователей; связан непосредственно с прибылью (нашей или пользователей); платный или бесплатный; уровень конкурентов; предназначен для конечных пользователей или предприятий?
- **Как различные типы сбоев влияют на сервис?** Некоторые системы устойчивы к определенным типам сбоев и допускают их
- **Стоимость?** Увеличение доступности увеличит прибыль? Рост прибыли перекроет затраты на рост доступности? (_При прибыли от сервиса $1M, увеличение доступности с 99.9% до 99.99% увеличит прибыль всего на $900_) 
- **Другие показатели?** Важно учитывать чувствительность сервисов
### Определение рискоустойчивости инфраструктурных сервисов
Фундаментальное отличие от пользовательских сервисов: потребности клиентов часто не совпадают. Ключевая стратегия при работе с инфраструктурныаи сервисами - создание сервисов с явно разграниченным уровнем параметров обслуживания.
Имея явно разграниченные уровни обслуживания, провайдеры инфраструктуры могут эффективно подчеркнуть разницу между ними, отразив её в стоимости.

## Обоснование критерия суммарного уровня ошибок (бюджета ошибок)
### Формируем бюджет ошибок
Сумарный уровень ошибок - объективный показатель. Позволяет исключить влияние "политических" и эмоциональных факторов на договоренности между SR и разработкой. Подчеркивает их общую ответственность за систему
> ПМ определяет SLO. Третья сторона мониторит сервис. Разница SLO и SLI - запас, "бюджет ошибок", насколько ненадежной может быть система в оставшуюся часть квартала. Если запас большой - можно больше рисковать, выпуская новый функционал. Если запас исчерпан - нужно сосредоточиться на повышении надежности

